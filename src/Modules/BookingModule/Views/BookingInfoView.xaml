<UserControl x:Class="BookingModule.Views.BookingInfoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:BookingModule.Views"
             xmlns:karveControls="clr-namespace:KarveControls;assembly=KarveControls"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
              xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity" 
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True"
             xmlns:Syncfusion="http://schemas.syncfusion.com/wpf"
             xmlns:KarveControls="clr-namespace:KarveControls;assembly=KarveControls"
             d:DesignHeight="900" d:DesignWidth="1024">
    <Grid>
        <i:Interaction.Triggers>

            <i:EventTrigger EventName="Loaded">
                <prism:InvokeCommandAction Command="{Binding ActiveSubsystemCommand}"/>
            </i:EventTrigger>
        </i:Interaction.Triggers>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <DockPanel Grid.Row="0" Background="DarkRed" Grid.ColumnSpan="2">
            <Image x:Name="TitleImage" DockPanel.Dock="Left" HorizontalAlignment="Left"
                   Source="/BookingModule;component/Images/booking.png" Height="48" />
            <TextBlock DockPanel.Dock="Right" HorizontalAlignment="Left" Text="Reservas" FontSize="24"
                       Foreground="White" />
        </DockPanel>

        <Syncfusion:TabControlExt Grid.Row="1" Grid.ColumnSpan="2" >
            <Syncfusion:TabItemExt Header="General">
            <Grid Grid.Row="1" Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition/>
                        <RowDefinition/>

                        <RowDefinition Height="Auto" MinHeight="51"></RowDefinition>
                        <RowDefinition/>
                        <RowDefinition></RowDefinition>
                        
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0" Grid.RowSpan="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="40*"></ColumnDefinition>
                            <ColumnDefinition Width="30*"></ColumnDefinition>
                            <ColumnDefinition Width="10*"></ColumnDefinition>

                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition>
                            </RowDefinition>
                        </Grid.RowDefinitions>
                            <TextBlock Text="Numero Reserva:" Grid.Row="0" Grid.Column="0"  Margin="0,0,0,5" FontWeight="Bold"/>
                        <Syncfusion:SfTextBoxExt 
                            Grid.Column="0"
                Grid.Row="1"
                Text="{Binding Path=DataObject.Value.NUMERO_RES, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                FontWeight="Light" 
             
                FontSize="40"
                x:Name="nUMERO_RES"
                karveControls:ControlExt.DataSource="{Binding DataObject}"
                karveControls:ControlExt.DataSourcePath="NUMERO_RES"
                karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}" />
                        <TextBlock Text="Factor de Riesgo:" Grid.Row="0" Grid.Column="1"  Margin="0,0,0,5" FontWeight="Bold"/>
                        <TextBlock Text="Posible No Show" HorizontalAlignment="Center" VerticalAlignment="Top" Foreground="Red" Grid.Row="1" Grid.Column="1"  Margin="0,0,0,5" FontWeight="Bold" FontSize="30"/>
                        <StackPanel Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" 
                                     VerticalAlignment="Top" Height="Auto">
                            <Button Command="{Binding ShowBooking}" Height="70">
                                <StackPanel>
                                    <TextBlock Text="Ver Reserva"></TextBlock>
                                    <Image Source="/KarveControls;component/Images/pdf.png" Height="40"></Image>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <Label Content="Empresa Reserva"  Width="Auto" />
                            <Syncfusion:SfTextBoxExt Width="Auto" Text="{Binding Path=DataObject.Value.SUBLICEN_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                                         Grid.Column="3" Height="30" x:Name="sUBLICEN_RES1"
                                 karveControls:ControlExt.DataSource="{Binding DataObject}"
                                 karveControls:ControlExt.DataSourcePath="SUBLICEN_RES1"
                                 AutoCompleteSource="{Binding CompanyDto}"
                                 SearchItemPath="Code"
                                 Style="{StaticResource SfFieldErrorStyle}"
                                 Watermark="{Binding lempresa, Source={StaticResource ResourceLanguage}}"
                                 karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                 />
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <Label Content="Oficina Creacion"  />
                            <Syncfusion:SfTextBoxExt Text="{Binding Path=DataObject.Value.OFICINA_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" Grid.Column="5" 
                                 Height="30" x:Name="oFICINA_RES1" Width="Auto" 
                                 AutoCompleteSource="{Binding OfficeDto}"
                                 SearchItemPath="Codigo"
                                 Style="{StaticResource SfFieldErrorStyle}"
                                 Watermark="{Binding loficina, Source={StaticResource ResourceLanguage}}"
                                 karveControls:ControlExt.DataSource="{Binding DataObject}"
                                 karveControls:ControlExt.DataSourcePath="OFICINA_RES1"
                                 karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                              />
                        </StackPanel>
                        <StackPanel Grid.Column="2">
                            <Label Content="RSC"/>
                            <Syncfusion:SfTextBoxExt  Text="{Binding Path=DataObject.Value.RENTAL1_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                                karveControls:ControlExt.DataSource="{Binding DataObject}"
                                 karveControls:ControlExt.DataSourcePath="RENTAL_RES1"
                                  Style="{StaticResource SfFieldErrorStyle}"
                                 karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                 Height="30" x:Name="rENTAL1_RES1" Width="Auto" />
                        </StackPanel>
                        <StackPanel Grid.Column="3">
                            <Label Content="Dia Facturacion" />
                            <Syncfusion:UpDown Width="Auto" Value="{Binding Path=DataObject.Value.DIAFAC_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                                karveControls:ControlExt.DataSource="{Binding DataObject}"
                                 karveControls:ControlExt.DataSourcePath="DIAFAC_RES1"
                                 karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                 MinValue="0"
                                 FocusedBackground="Pink" 
                                 EnableFocusedColors="True"              
                                 Height="30" x:Name="dIAFAC_RES1"/>
                        </StackPanel>
                    </Grid>
                    <Grid Grid.Row="3">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Image DockPanel.Dock="Left" Source="/KarveControls;component/Images/checkin.png" Grid.Column="0"  Height="60" />
                            <TextBlock DockPanel.Dock="Right" Text="Check-in" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" 
                                       Grid.Column="1" FontFamily="Arial" FontWeight="Black" FontSize="20"></TextBlock>
                        </Grid>

                        <Grid Grid.Column="1">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>
                            <Image Grid.Column="1" Source="/KarveControls;component/Images/checkout.png"  Height="60" />
                            <TextBlock DockPanel.Dock="Left" Text="Check-out" HorizontalAlignment="Center" VerticalAlignment="Center" Height="40" 
                                       FontFamily="Arial" FontWeight="Black" FontSize="20"></TextBlock>
                        </Grid>
                        

                    </Grid>
                    <Grid Grid.Row="4">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Column="0" Grid.Row="0">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">                                <Image Source="/KarveControls;component/Images/calendar1.png" Height="30"></Image>
                            <DatePicker  Width="150"  
                                    karveControls:ControlExt.DataSource="{Binding DataObject}"
                                    karveControls:ControlExt.DataSourcePath="FSALIDA_RES1"
                                    karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                    SelectedDate="{Binding Path=DataObject.Value.FSALIDA_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" Height="30" x:Name="fSALIDA_RES1" />
                                <materialDesign:TimePicker DockPanel.Dock="Right" x:Name="DataTimePicker"
                                                                          Height="30"
                                                                          SelectedTime="{Binding HolidayTimeFrom,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                          HorizontalAlignment="Left"/>
                                
                                                            </StackPanel>

                        </Grid>
                        <Grid Grid.Column="0" Grid.Row="1">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{Binding loficina, Source={StaticResource ResourceLanguage}}"></TextBlock>
                                    <Syncfusion:SfTextBoxExt Watermark="{Binding ldepartureworkshop, Source={StaticResource ResourceLanguage}}" 
                                                             Height="30" 
                                                             karveControls:ControlExt.DataSource="{Binding DataObject}"
                                                             karveControls:ControlExt.DataSourcePath="OFISALIDA_RES1"
                                                             karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                                             Text="{Binding Path=DataObject.Value.OFISALIDA_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                                                             Grid.Column="5" 
                                                             Style="{StaticResource SfFieldErrorStyle}"
                                                             x:Name="OFISALIDA_RES1"
                                                             SearchItemPath="Codigo"
                                                             AutoCompleteSource="{Binding ReservationOffice, Mode=OneTime}" 
                                                             AutoCompleteMode="Suggest">
                                        <Syncfusion:SfTextBoxExt.AutoCompleteItemTemplate>

                                            <DataTemplate>

                                                <StackPanel Orientation="Horizontal">

                                                    <Image Source="/KarveControls;component/Images/office.png" 
                                                           Margin="2" 
                                                           Stretch="Uniform" 
                                                           Width="12"/>

                                                    <TextBlock Text="{Binding Codigo}" Margin="5 2"/>
                                                    <TextBlock Text="{Binding Nombre}" Margin="5 2"/>

                                                </StackPanel>

                                            </DataTemplate>

                                        </Syncfusion:SfTextBoxExt.AutoCompleteItemTemplate>


                                    </Syncfusion:SfTextBoxExt>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Lugar"></TextBlock>
                                    <Syncfusion:SfTextBoxExt 
                                        Style="{StaticResource SfFieldErrorStyle}"        
                                        Watermark="{Binding ldepartureplace, Source={StaticResource ResourceLanguage}}" Height="30">
                                        
                                    </Syncfusion:SfTextBoxExt>
                                </StackPanel>
                            </Grid>
                        </Grid>
                        <Grid Grid.Column="1" Grid.Row="0">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Image Source="/KarveControls;component/Images/calendar1.png" Height="30"></Image>
                                <DatePicker Width="150"  
                                    karveControls:ControlExt.DataSource="{Binding DataObject}"
                                    karveControls:ControlExt.DataSourcePath="FSALIDA_RES1"
                                    karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                    SelectedDate="{Binding Path=DataObject.Value.FSALIDA_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" Height="30"  />
                                <materialDesign:TimePicker></materialDesign:TimePicker>
                            </StackPanel>

                        </Grid>
                        <Grid Grid.Column="1" Grid.Row="1">
                            <Grid Margin="30,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{Binding loficina, Source={StaticResource ResourceLanguage}}"></TextBlock>
                                    <Syncfusion:SfTextBoxExt Watermark="Oficina de Retorno" 
                                                             Height="30" 
                                                             karveControls:ControlExt.DataSource="{Binding DataObject}"
                                                             karveControls:ControlExt.DataSourcePath="OFIRETORNO_RES1"
                                                             karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}"
                                                             Text="{Binding Path=DataObject.Value.OFIRETORNO_RES1, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                                                             Grid.Column="5" 
                                                             Style="{StaticResource SfFieldErrorStyle}"
                                                             x:Name="OFIRETORNO_RES1"
                                                             SearchItemPath="Codigo"
                                                             AutoCompleteSource="{Binding ReservationOffice, Mode=OneTime}" 
                                                             AutoCompleteMode="Suggest">
                                        <Syncfusion:SfTextBoxExt.AutoCompleteItemTemplate>

                                            <DataTemplate>

                                                <StackPanel Orientation="Horizontal">

                                                    <Image Source="/KarveControls;component/Images/office.png" 
                                                           Margin="2" 
                                                           Stretch="Uniform" 
                                                           Width="12"/>

                                                    <TextBlock Text="{Binding Codigo}" Margin="5 2"/>
                                                    <TextBlock Text="{Binding Nombre}" Margin="5 2"/>

                                                </StackPanel>

                                            </DataTemplate>

                                        </Syncfusion:SfTextBoxExt.AutoCompleteItemTemplate>


                                    </Syncfusion:SfTextBoxExt>
                                </StackPanel>
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Lugar"></TextBlock>
                                    <Syncfusion:SfTextBoxExt 
                                        Watermark="Lugar de Retorno" 
                                        Style="{StaticResource SfFieldErrorStyle}"     
                                        Height="30"></Syncfusion:SfTextBoxExt>
                                </StackPanel>
                            </Grid>
                        </Grid>

                    </Grid>        
                </Grid>
           
            </Syncfusion:TabItemExt>
            <Syncfusion:TabItemExt Header="Conductores">
                <Grid Margin="2,0,-2,0">
                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                        <RowDefinition></RowDefinition>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid Grid.Row="0" Grid.ColumnSpan="2">
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="Auto" MinHeight="51"></RowDefinition>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Numero Reserva:" Grid.Row="0" Margin="0,0,0,5" FontWeight="Bold"/>
                        <Syncfusion:SfTextBoxExt  
                Grid.Row="1"
                Text="{Binding Path=DataObject.Value.NUMERO_RES, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True, ValidatesOnExceptions=True}" 
                FontWeight="Light" 
                FontSize="40"
                x:Name="nUMERO_RES1"
                karveControls:ControlExt.DataSource="{Binding DataObject}"
                karveControls:ControlExt.DataSourcePath="NUMERO_RES"
                karveControls:ControlExt.ItemChangedCommand="{Binding ItemChangedCommand}" />
                    </Grid>
                  
                        <karveControls:DualFieldSearchBox DataFieldFirst="CONDUCTOR_CON1"
                                                      Height="30"
                                                      Grid.Row="1" Grid.Column="0"
                                                      AssistTableName="CONDUCTOR_ASSIST"
                                                      AssistProperties="Code,Name"
                                                      LabelText="Conductor"
                                                      LabelTextWidth="86"   
                                                      Margin="0,5,0,0"
                                                      IsReadOnlySecond="True"
                                                      TextContentFirstWidth="50"
                                                      TextContentSecondWidth="200"
                                                      ButtonImage="/KarveControls;component/Images/driver.png"
                                                      MagnifierCommand="{Binding AssistCommand, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      ItemChangedCommand="{Binding ItemChangedCommand, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      SourceView="{Binding DataHelper.Driver1Dto, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      DataSource="{Binding DataObject, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                    <karveControls:DataField LabelText="Nombre" 
                                             Height="30"
                                             TextContent="{Binding DataObject.VALUE.NOMBRE_RES, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" 
                                             TextContentWidth="250" Grid.Row="1" Grid.Column="1" 
                                             Margin="0,6,0,2"/>
                    <karveControls:DataField 
                                             Grid.Row="2"
                                             Grid.Column="0"
                                             LabelText="Nif" 
                                             Height="30" 
                                             LabelTextWidth="100" 
                                             TextContent="{Binding DataObject.VALUE.NOMBRE_RES, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" TextContentWidth="250" Margin="1,3,0,3"></karveControls:DataField>
                    <karveControls:DualFieldSearchBox DataFieldFirst="PAISNIFCOND_RES2"
                                                      Grid.Column="1"
                                                      Grid.Row="3"
                                                      AssistTableName="COUNTRY_ASSIST"
                                                      AssistProperties="Code,Name"
                                                      LabelText="Pais NIF"
                                                      LabelTextWidth="86"   
                                                      Margin="0,5,0,0"
                                                      IsReadOnlySecond="True"
                                                      TextContentFirstWidth="50"
                                                      TextContentSecondWidth="171"
                                                      MagnifierCommand="{Binding AssistCommand, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      ItemChangedCommand="{Binding ItemChangedCommand, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      SourceView="{Binding DataHelper.CountryDto, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                      DataSource="{Binding DataObject, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>


                </Grid>
                
            </Syncfusion:TabItemExt>
        </Syncfusion:TabControlExt>
      
    </Grid>
</UserControl>
